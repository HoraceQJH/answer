<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<link rel="stylesheet" href="bootstrap.min.css">
		<script src="jquery-3.3.1.min.js"></script>
		<script src="bootstrap.bundle.min.js"></script>
		<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
		<script>
			function log()
			{
				var password=document.getElementById("password").value;
				var md5_password=md5(password);
				if(md5_password=="d7e265c83d445e1ac6ec2e87530bf77f")
				{
					document.getElementById("index").style.backgroundImage="url(images/index-background.jpg)";
					document.getElementById("login").style.display="none";
					document.getElementById("content").style.display="inline";
				}
				else
					alert("密码错误！请再试！");
			}
			function showhiddentext()
			{
				document.getElementById("index").style.display="none";
				document.getElementById("hiddentext").style.display="inline";
			}
			function cAlert(html) // New Alert
			{
				$(document.body).append(`<div class="modal fade" id="cAlert" tabindex="-1">
					<div class="modal-dialog"><div class="modal-content">
					<div class="modal-body" style="text-align:center">${html}</div>
					<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">确认</button>
					</div></div></div></div>`);
				$("#cAlert").modal("show").on("shown.bs.modal",
					function ()
					{
					$("#cAlert .btn-secondary").trigger("focus");
					}
				);
				return new Promise(
					function (resolve, reject)
					{
					$("#cAlert").on("hidden.bs.modal",
						function () 
						{
						$("#cAlert").remove();
						resolve();
						}
					);
					}
				);
			}
		</script>
		<title>请登录！</title>
	</head>
	<body>
		<div class="index" id="index">
			<div class="login" id="login">
				<div class="center">
					<h1 class="login-h1">登陆</h1>
					<input class="niceinput" id="password" type="password" autocomplete="off" placeholder="密码" />
					<button onclick="log()">登陆</button>
				</div>
			</div>
			<div class="content" id="content">
				<div class="transbox">
					<h1>欢迎来到天一中学！</h1>
					<p>为了使各位新生更好地适应天一的高中生活，以下提供各科的暑假作业。</p>
					<div class="table">
						<table>
							<tr><td>语文</td>
								<td><a href="ans/p1~p9.html">p1~p9</a></td>
							</tr>
							<tr><td>数学</td>
								<td><a href="ans/p10~p21.html">p10~p21</a></td>
							</tr>
							<tr><td>英语</td>
								<td><a href="ans/p22~p29.html">p22~p29</a></td>
							</tr>
							<tr><td>物理</td>
								<td><a href="ans/p30~p35.html">p30~p35</a></td>
							</tr>
							<tr><td>化学</td>
								<td><a href="ans/p36~p37.html">p36~p37</a></td>
							</tr>
							<tr><td>生物</td>
								<td><a href="ans/p38~p39.html">p38~p39</a></td>
							</tr>
							</tr>
						</table>
					</div>
					<h1>内部资料！！！请勿外传！！！</h1>
					<p>作者QQ:1913512127 更新时间：每天上午10:00，晚上8:30（其余时间随缘更新）</p>
					<div class="button" onclick="cAlert($('#log').html())" style="position: absolute; top: 10px; right: 10px;">
						<img src="images/warning_black_24dp.png">
					</div>
				</div>
				<div id="music" class="music">
					<audio controls="controls">
						<source src="media/index-bgm.mp3" type="audio/mp3" />
						你的浏览器不支持MP3音乐。
					</audio>
				</div>
				<div id="log" style="display:none;">
					<div style="text-align: left;">
						<b>version:1.1.1</b> <br>
					  	<b>date:2022.7.19</b> <br>
					  	<ul>
							<li>上传了化学作业p36~p37的内容。</li>
					  	</ul><br>
						<b>version:1.1</b> <br>
					  	<b>date:2022.7.19</b> <br>
					  	<ul>
							<li>增加了日志，修改部分内容。</li>
							<li>上传了数学作业p18~p21的内容。</li>
					  	</ul><br>
					  	<b>version:1.0.0</b> <br>
					  	<b>date:2022.7.18</b> <br>
					  	<ul>
							<li>创建了网站的基本内容。</li>
							<li>？？？</li>
					  	</ul><br>
					</div>
				  </div>
			</div>
		</div>
		<div id="hiddentext">
			<h1>恭喜你！找到了隐藏的文字！</h1>
			<h2>for dsy</h2>
		</div>
		<script>
			document.getElementById("login").style.display="inline";
			document.getElementById("content").style.display="none";
			document.getElementById("hiddentext").style.display="none";
			document.getElementById("index").style.backgroundImage="url(images/login-background.jpg)";
		</script>
	</body>
</html>
